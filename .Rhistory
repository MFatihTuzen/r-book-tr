library(quantmod)
x <- stockSymbols()
apple_df <- getSymbols('AAPL', src='yahoo', auto.assign=FALSE)
View(apple_df)
apple_df <- getSymbols('THYAO_IS', src='yahoo', auto.assign=FALSE)
apple_df <- getSymbols('THYAO.IS', src='yahoo', auto.assign=FALSE)
values <- oanda.currencies
View(values)
basic_symbols()
apple_df <- getSymbols('THYAO.IS', src='google', auto.assign=FALSE)
apple_df <- getSymbols('EREGL.IS', src='yahoo', auto.assign=FALSE)
View(apple_df)
df <- readRDS("https://github.com/MFatihTuzen/r-book-tr/blob/main/datasets/counties.rds")
url(https://github.com/MFatihTuzen/r-book-tr/blob/main/datasets/counties.rds)
url("https://github.com/MFatihTuzen/r-book-tr/blob/main/datasets/counties.rds")
df <- url("https://github.com/MFatihTuzen/r-book-tr/blob/main/datasets/counties.rds")
df <- readRDS(url("https://github.com/MFatihTuzen/r-book-tr/blob/main/datasets/counties.rds"))
library(usdata)
install.packages("usdata")
library(usdata)
help(usdata)
df <- data(usdata)
usdata::county
counties <- readRDS("datasets/counties.rds")
df <- usdata::county
View(df)
View(counties)
View(df)
library(ggplot2)
library(dplyr)
p1 <- ggplot(mpg,aes(x=displ,y=cty_ltkm)) +
geom_point(size=2,color="red")
p1
mpg
# litre başına km hesaplama
galonmil_to_ltkm <- function(x){
km <- x * 1.609/3.79
return(km)
}
df <- mpg
df$cty_ltkm <- galonmil_to_ltkm(df$cty)
df$hwy_ltkm <- galonmil_to_ltkm(df$hwy)
p1 <- ggplot(df,aes(x=displ,y=cty_ltkm)) +
geom_point(size=2,color="red")
p1
# gruplar düzeyinde grafiği çizdirme
p2 <- ggplot(df,aes(x=displ,y=cty_ltkm,colour=as.factor(year))) +
geom_point(size=2) +
# grafiğe başlık ekleme
ggtitle("Motor Hacmi ve Yakıt Tüketimi Saçılım Grafiği") +
#eksenleri isimlendirme
xlab("Motor Hacmi") +
ylab("Yakıt Tüketimi")+
theme_bw() + # tema değiştirme
theme(legend.position = "bottom",  # gruplama değişkeninin poziyounun değiştirme
plot.title = element_text(face = "bold"), # kalın başlık
legend.title = element_blank()) # grup başlığını kaldırma
p2
ggplot(df,aes(x=displ,y=cty_ltkm)) +
geom_point(aes(size=factor(cyl)),color="red")
# grafiğe model eğrisi ekleme
p1 + geom_smooth(method = lm, se = TRUE)
p1 + geom_smooth(method = loess, se = TRUE)
# grup düzeyinde model eğrileri ve saçılım grafiği
p3 <- df %>%
ggplot(aes(x=displ,y=cty_ltkm,color=as.factor(cyl))) +
geom_point()  +
geom_smooth(method = lm, se = TRUE)
p3
# grup ve yıl düzeyinde model eğrileri ve saçılım grafiği
p3 + facet_wrap(~ year)
p3 + facet_wrap(~ year+drv)
p3 + facet_grid(drv ~ year) # eksen aralıkları sabit
p3 + facet_grid(drv ~ year,scales = "free") # eksen aralıkları değişken
diamonds
df <- data.frame(weight=c(rnorm(15,70,10),rep(NA,5)),
height=c(rnorm(17,165,20),rep(NA,3)))
set.seed(12345)
rows <- sample(nrow(df))
df2 <- df[rows, ]
df2
View(df2)
# eksik verilere basit değer atama
df2$weight2 <- ifelse(is.na(df2$weight),mean(df2$weight, na.rm = TRUE),df2$weight)
sapply(df2, function(x) ifelse(is.na(x), mean(x, na.rm = TRUE), x ))
ifelse(is.na(df2$weight),mean(df2$weight, na.rm = TRUE),df2$weight)
# tek seferde bütün kolonlardaki eksik verileri ortamala ile doldurmak için
sapply(df2, function(x) ifelse(is.na(x), mean(x, na.rm = TRUE), x ))
rm(list=ls())
