# Kontrol İfadeleri

Kontrol ifadeleri ve döngüler R içerisinde sıklıkla kullanılan yapılardır. Belirli şartlara bağlı olan ya da tekrarlı işlemler için oldukça faydalıdırlar. R programlama dilinde en çok kullanılan **if-else, for, while, next, break** gibi kontrol döngüleridir.

## if-else

Bu kombinasyon R'de en sık kullanılan kontrol yapılarındandır. Bu yapıda, bir koşulu test edebilir ve doğru veya yanlış olmasına bağlı olarak ona göre hareket edebilirsiniz. if-else kombinasyonlarında aşağıdaki yapılar kullanılmaktadır.

```         
if (condition){
#do something if condition is true
}


if (condition){
#do something if condition is true
}
else{
#do someting if condition is not true
}

if (condition){

#do something if condition is true

} else if (condition2) {

#do someting if condition2 is true

} else {

#do something if neither condition 1 nor condition 2 is true

}
```

```{r}

x <- 8

if (x < 10) {
    print("x 10'dan küçüktür")
} else {
    print("x 10'dan büyüktür ya da 10'a eşittir")
}

# ifelse 
# ifelse(condition, do_if_true, do_if_false)
df <- data.frame(value = 1:9)
df$group <- ifelse(df$value <= 3,1,ifelse(df$value > 3 & df$value <= 6,2,3))
df

```

## Döngüler

-   **for** döngüleri bir tekrarlayıcı değişken alır ve ona bir diziden veya vektörden ardışık değerler atar. En yaygın olarak bir nesnenin öğeleri üzerinde tekrarlayan işlem yapmak için kullanılır.

-   **while** döngüleri bir şartı test ederek başlar. Eğer denenecek şart doğru ise istenilen komutlar yerine getirilir. Döngü şartın doğru olmadığı ana kadar devam eder.

-   **repeat** sonsuz bir döngü oluşturur. Döngüden çıkmak için **break** kullanılır.

-   **next** ifadesi ile bir döngüdeki belirli tekrarlar atlanabilir.

```{r}

for (i in 1:5) {
    print(i)
}

v <- LETTERS[1:4]
for ( i in v) {
   print(i)
}

# dataframe içerisinde for
for (i in 1:nrow(df)){
  
  df[i,"multiply"] <- df[i,"value"] * df[i,"group"]
}

df

# i yerine farklı ifade de kullanılabilir
(x <- data.frame(age=c(28, 35, 13, 13),
                height=c(1.62, 1.53, 1.83, 1.71),
                weight=c(65, 59, 72, 83)))

for (var in colnames(x)) {
    m <- mean(x[, var])
    print(paste("Average", var, "is", m))
}

# while

x <- 0

while (x^2 < 20) {
  print(x)      # Print x
  x <- x + 1    # x'i bir artır
}

# repeat

x <- 0

repeat {
    if (x^2 > 20) break     # bu koşul sağlandığında döngüyü bitir
    print(x)               
    x <- x + 1              # x'i bir artır
}

# next

for(i in 1:7) {
if (i==4) next # i=4 olduğunda atla
print(1:i)
}


(s <- seq(1,10,1))

for (i in s) {
    if (i%%2 == 1) { # mod
        next
    } else {
        print(i)
    }
}

# döngü içinde döngü

(mat <- matrix(nrow=4, ncol=4))

nr <-  nrow(mat)
nc <-  ncol(mat)

# matrisin içini dolduralım
for(i in 1:nr) {
  for (j in 1:nc) {
    mat[i, j] = i * j
  }
}

mat

```
